LDA 8 ; --- Proc: __main__ at line 1 ---
STA 4 ;
LDA 2 ;
ADD 14 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 14 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 15 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;              preparing param 1 for fact call
ADD 15 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 16 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 1 ;              store current FP in fact's prev_FP address
ADD 5 ;
SUB 14 ;
STA 3 ;
LDA 2 ;
STI 3 ;
LDA 1 ;              update FP to current SP
STA 2 ;
LDA 1 ;              update SP to current SP + fact's record size
ADD 5 ;
STA 1 ;
LDA 1 ;              set param 1 in fact's record
SUB 14 ;
STA 3 ;
LDI 3 ;
ADD 16 ;
STA 3 ;
LDA 2 ;
ADD 14 ;
STA 4 ;
LDI 3 ;
STI 4 ;
CAL 82 ;             call fact
LDA 1 ;              store fact's return value in BUFF1
SUB 15 ;
STA 3 ;
LDI 3 ;
STA 3 ;
LDA 1 ;              revert FP
SUB 14 ;
STA 4 ;
LDI 4 ;
STA 2 ;
LDA 3 ;              now after reverted FP, store fact's return value locally from BUFF1
STA 4 ;
LDA 2 ;
ADD 6 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 1 ;              revert SP
SUB 5 ;
STA 1 ;
LDA 2 ;
ADD 6 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 8 ;
STA 3 ;
LDA 4 ;
STI 3 ;
HLT ;
LDA 2 ; --- Proc: fact at line 82 ---
ADD 14 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 16 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 16 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 6 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 14 ;
STA 4 ;
LDA 2 ;
ADD 8 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 8 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 18 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 6 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 11 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 11 ;
STA 3 ;
LDI 3 ;
JMN 227 ;
JMZ 227 ;
LDA 2 ;
ADD 18 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 19 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 6 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 12 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 19 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 12 ;
STA 3 ;
LDI 3 ;
MUL 4 ;
STA 4 ;
LDA 2 ;
ADD 9 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 9 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 18 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 6 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 7 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 14 ;
STA 4 ;
LDA 2 ;
ADD 17 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 7 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 17 ;
STA 3 ;
LDI 3 ;
STA 3 ;
LDA 4 ;
SUB 3 ;
STA 4 ;
LDA 2 ;
ADD 10 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 10 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 6 ;
STA 3 ;
LDA 4 ;
STI 3 ;
JMP 119 ;
LDA 2 ;
ADD 18 ;
STA 3 ;
LDI 3 ;
STA 4 ;
LDA 2 ;
ADD 13 ;
STA 3 ;
LDA 4 ;
STI 3 ;
LDA 2 ;
ADD 13 ;
STA 3 ;
LDI 3 ;              backup return value in BUFF1
STA 3 ;
LDA 1 ;              calculate return value address and store in BUFF2
SUB 15 ;
STA 4 ;
LDA 3 ;              finally store return value (BUFF1) in designated address
STI 4 ;
LDI 1 ;              jump back to caller
STA 3 ;
JMI 3 ;
